alias gits='git status && check_git_status'
alias gitp='git push && check_git_status'
alias gitall='git add -A'
alias gitcm='git commit -m'
alias gitchk='git checkout'

alias :q='echo idiot'
alias :q!='echo idiot'
alias :wq='echo idiot'

alias rg='ranger'

alias tbl='toolbox list'
alias tbs='toolbox start'
alias tbst='podman stop'
alias tbe='toolbox enter'
alias tbr='toolbox run -c'

alias pm='podman'

alias vimbg='vim -p mountainblade.c entities.h entities.c logic.h logic.c actions.h actions.c display.h display.c gtime.h gtime.c'

check_git_status() {
	if [ -d .git ]; then
  		git_results="$(git status)"
		if [[ $(echo "$git_results" | grep "Your branch is behind") ]]; then
			git fetch -q &
			export GITDIRSTAT="M"
			return 0
		fi
		if [[ $(echo "$git_results" | grep "Your branch is ahead") ]]; then
			export GITDIRSTAT="P"
			return 0
  		fi
  		if [[ $(echo "$git_results" | grep "have diverged") ]]; then
			export GITDIRSTAT="D"
			return 0
  		fi
  		if [[ $(echo "$git_results" | grep "Changes to be comm") ]]; then
			export GITDIRSTAT="C"
			return 0
  		fi
  		if [[ $(echo "$git_results" | grep "Changes not staged") ]]; then
			export GITDIRSTAT="U"
			return 0
  		fi
		export GITDIRSTAT=""
		return 0
	else
		export GITDIRSTAT=""
		return 0
	fi
}

cd() {
	command cd "$@" || return
	check_git_status
}
